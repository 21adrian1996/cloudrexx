# news module .Primary key
ALTER TABLE `contrexx_module_news` ADD PRIMARY KEY ( `id` );
# ALTER TABLE `contrexx_module_news` DROP `teaser_title`;

INSERT INTO `contrexx_module_news_settings` ( `name` , `value` ) VALUES ('news_submit_news', '0'), ('news_submit_only_community', '0'), ('news_activate_submitted_news', '0');
ALTER TABLE `contrexx_module_news` ADD `validated` ENUM( '0', '1' ) NOT NULL AFTER `status`;
UPDATE `contrexx_module_news` SET validated = '1';

ALTER TABLE `contrexx_module_news` ADD `teaser_text` TINYTEXT NOT NULL AFTER `validated` ,ADD `teaser_image_path` TEXT NOT NULL AFTER `teaser_text` ;
ALTER TABLE `contrexx_module_news` ADD `teaser_only` ENUM( '0', '1' ) NOT NULL AFTER `validated` ;
ALTER TABLE `contrexx_module_news` ADD `teaser_frames` VARCHAR( 255 ) NOT NULL AFTER `teaser_only` ;


CREATE TABLE `contrexx_module_news_access` (
`id` int( 11 ) unsigned NOT NULL AUTO_INCREMENT ,
`name` varchar( 64 ) NOT NULL default '',
`description` varchar( 255 ) NOT NULL default '',
`access_id` int( 11 ) unsigned NOT NULL default '0',
`type` enum( 'global', 'frontend', 'backend' ) NOT NULL default 'global',
PRIMARY KEY ( `id` )
) TYPE = MYISAM;

INSERT INTO `contrexx_module_news_access` ( `id` , `name` , `description` , `access_id` , `type` )VALUES ('', 'submit_news', 'News anmelden', '61', 'global');
INSERT INTO `contrexx_settings` ( `setid` , `setname` , `setvalue` , `setmodule` )VALUES ('', 'newsTeasersStatus', '0', '8');



DROP TABLE IF EXISTS `contrexx_module_news_teaser_frame`;
CREATE TABLE `contrexx_module_news_teaser_frame` (
  `id` int(10) unsigned NOT NULL auto_increment,
  `lang_id` tinyint(3) unsigned NOT NULL default '0',
  `frame_template_id` int(10) unsigned NOT NULL default '0',
  `name` varchar(50) NOT NULL default '',
  PRIMARY KEY  (`id`)
) TYPE=MyISAM;



INSERT INTO `contrexx_module_news_teaser_frame` VALUES (1, 1, 2, 'Beispiel3');
INSERT INTO `contrexx_module_news_teaser_frame` VALUES (2, 1, 1, 'Beispiel1');
INSERT INTO `contrexx_module_news_teaser_frame` VALUES (3, 1, 3, 'Beispiel2');



DROP TABLE IF EXISTS `contrexx_module_news_teaser_frame_templates`;
CREATE TABLE `contrexx_module_news_teaser_frame_templates` (
  `id` int(10) unsigned NOT NULL auto_increment,
  `description` varchar(100) NOT NULL default '',
  `html` text NOT NULL,
  `source_code_mode` enum('0','1') NOT NULL default '0',
  PRIMARY KEY  (`id`)
) TYPE=MyISAM;



INSERT INTO `contrexx_module_news_teaser_frame_templates` VALUES (1, '3 Teaserboxen (1. Zeile: 1 Teaser - 2. Zeile: 2 Teaser)', '<table cellspacing="5" cellpadding="0" border="0">\r\n    <tbody>\r\n        <tr>\r\n            <td colspan="2"><!-- BEGIN teaser_1 -->\r\n            <table width="480" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="25%"><img src="{TEASER_IMAGE_PATH}" width="80" height="120" alt="" /></td>\r\n                        <td width="75%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_1 --></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%"><!-- BEGIN teaser_2 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img src="{TEASER_IMAGE_PATH}" width="80" height="120" alt="" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_2 --></td>\r\n            <td width="50%"><!-- BEGIN teaser_3 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><img src="{TEASER_IMAGE_PATH}" width="80" height="120" alt="" /></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_3 --></td>\r\n        </tr>\r\n    </tbody>\r\n</table>', '1');
INSERT INTO `contrexx_module_news_teaser_frame_templates` VALUES (2, '4 Teaserboxen (2 Teaser pro Zeile)', '<table cellspacing="5" cellpadding="0" border="0">\r\n    <tbody>\r\n        <tr>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_1 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_1 --></td>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_2 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_2 --></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_3 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_3 --></td>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_4 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_4 --></td>\r\n        </tr>\r\n    </tbody>\r\n</table>', '1');
INSERT INTO `contrexx_module_news_teaser_frame_templates` VALUES (3, '6 Teaserboxen (2 Teaser pro Zeile)', '<table cellspacing="5" cellpadding="0" border="0">\r\n    <tbody>\r\n        <tr>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_1 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_1 --></td>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_2 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_2 --></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_3 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_3 --></td>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_4 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_4 --></td>\r\n        </tr>\r\n        <tr>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_5 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_5 --></td>\r\n            <td width="50%" style="vertical-align: top;"><!-- BEGIN teaser_6 -->\r\n            <table width="235" cellspacing="0" cellpadding="0" border="0">\r\n                <tbody>\r\n                    <tr>\r\n                        <th colspan="2">{TEASER_CATEGORY}</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="2">{TEASER_DATE}<br />{TEASER_TITLE} <a href="{TEASER_URL}">» Zur Meldung</a></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td width="50%"><img alt="" src="{TEASER_IMAGE_PATH}" /></td>\r\n                        <td width="50%" style="vertical-align: top;">{TEASER_TEXT}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- END teaser_6 --></td>\r\n        </tr>\r\n    </tbody>\r\n</table>', '1');
      
