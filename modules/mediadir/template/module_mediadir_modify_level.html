<!-- START module_mediadir_modify_level.html -->
<script type="text/javascript">
//<![CDATA[
function SetUrl(url, width, height, alt) {
    switch (fileType) {
        case 'image':
        case 'webpages':
            document.getElementById(insertBox).value = url;
            break
        case 'link':
            if (insertText == '') {
                insertText = url;
            }
            newsInsertLink(document.getElementById(insertBox), '<a href="'+url+'">'+insertText+'</a>');
            break;
    }
}

function getFileBrowser(name, type)
{
    insertBox = name;
    fileType = type;

    openWindow('?cmd=fileBrowser&standalone=true&type=mediadir','','width=800,height=600,resizable=yes,status=no,scrollbars=yes');
}

function openWindow(theURL,winName,features){
    browserPopup = window.open(theURL,"Browser",features);
    browserPopup.focus();
}

function ExpandMinimize(toggle){

    if (toggle == 'levelName') {
        var pattern = /^levelName/;
    } else {
        var pattern = /^levelDescription/;
    }

    var reg = new RegExp(pattern);

    var masterValue = document.getElementsByName(toggle + '[0]')[0].value;
    var defaultValue = document.getElementsByName(toggle + '[{MEDIADIR_LEVEL_DEFAULT_LANG_ID}]')[0].value;

    for (i = 0; i < document.levelModfyForm.elements.length; ++i) {
        var field = document.levelModfyForm.elements[i];

        if (field.name.match(reg)) {
            if (field.value == '') {
                field.value = masterValue;
            }

            var regDefaultLang = new RegExp(toggle + '\\[{MEDIADIR_LEVEL_DEFAULT_LANG_ID}\\]');

            if (field.name.match(regDefaultLang)) {
                field.value = masterValue;
            }

            var regMaster = new RegExp(toggle + '\\[0\\]');

            if (field.name.match(regMaster)) {
                field.value = defaultValue;
            }
        }
    }

    elm1 = document.getElementById(toggle + 'Minimized');
    elm2 = document.getElementById(toggle + 'Expanded');

    elm1.style.display = (elm1.style.display=='none') ? 'block' : 'none';
    elm2.style.display = (elm2.style.display=='none') ? 'block' : 'none';
}
//]]>
</script>

<form name="levelModfyForm" action="index.php?cmd={MODULE_NAME}&act=modify_level" method="post" >
<input name="levelId" type="hidden" value="{MEDIADIR_LEVEL_ID}" />
<table border="0" cellpadding="3" cellspacing="0" width="100%" class="adminlist">
    <tr>
        <th colspan="2">{TXT_MEDIADIR_PAGE_TITLE}</th>
    </tr>
    <tr class="row1">
        <td width="200">{TXT_MEDIADIR_LEVEL}</td>
        <td>
            <select name="levelPosition" style="width: 302px">
                <option value="0">{TXT_MEDIADIR_NEW_LEVEL}</option>
                {MEDIADIR_LEVELS_DROPDOWN_OPTIONS}
            </select>
        </td>
    </tr>
    <tr class="row2">
        <td valign="top">{TXT_MEDIADIR_NAME}</td>
        <td>
            <div id="levelNameMinimized" style="display: block;">
                <input name="levelName[0]" type="text" style="width: 300px" value="{MEDIADIR_LEVEL_NAME_MASTER}" />&nbsp;<a href="javascript:ExpandMinimize('levelName');">{TXT_MEDIADIR_MORE}&nbsp;&raquo;</a><br />
            </div>
            <div id="levelNameExpanded" style="display: none;">
                <!-- BEGIN mediadirLevelNameList -->
                <input name="levelName[{MEDIADIR_LEVEL_NAME_LANG_ID}]" type="text" style="width: 279px; margin-bottom: 2px; padding-left: 21px; background: #ffffff url('images/flags/flag_{TXT_MEDIADIR_LEVEL_NAME_LANG_SHORTCUT}.gif') no-repeat 3px 3px;" title="{TXT_MEDIADIR_LEVEL_NAME_LANG_NAME}" value="{MEDIADIR_LEVEL_NAME}" />&nbsp;{TXT_MEDIADIR_LEVEL_NAME_LANG_NAME}&nbsp;&nbsp;&nbsp;{MEDIADIR_MINIMIZE}<br />
                <!-- END mediadirLevelNameList -->
            </div>
        </td>
    </tr>
    <tr class="row1">
        <td valign="top">{TXT_MEDIADIR_DESCRIPTION}</td>
        <td>
            <div id="levelDescriptionMinimized" style="display: block;">
                <textarea name="levelDescription[0]" style="width: 300px; height: 50px;" >{MEDIADIR_LEVEL_DESCRIPTION_MASTER}</textarea>&nbsp;<a href="javascript:ExpandMinimize('levelDescription');">{TXT_MEDIADIR_MORE}&nbsp;&raquo;</a>
            </div>
            <div id="levelDescriptionExpanded" style="display: none;">
                <!-- BEGIN mediadirLevelDescriptionList -->
                <textarea name="levelDescription[{MEDIADIR_LEVEL_DESCRIPTION_LANG_ID}]" style="height: 50px; width: 279px; margin-bottom: 2px; padding-left: 21px; background: #ffffff url('images/flags/flag_{TXT_MEDIADIR_LEVEL_DESCRIPTION_LANG_SHORTCUT}.gif') no-repeat 3px 3px;" title="{TXT_MEDIADIR_LEVEL_DESCRIPTION_LANG_NAME}" >{MEDIADIR_LEVEL_DESCRIPTION}</textarea>&nbsp;{TXT_MEDIADIR_LEVEL_DESCRIPTION_LANG_NAME}&nbsp;&nbsp;&nbsp;{MEDIADIR_MINIMIZE}<br />
                <!-- END mediadirLevelDescriptionList -->
            </div>
        </td>
    </tr>
    <tr class="row2">
        <td valign="top">{TXT_MEDIADIR_PICTURE}</td>
        <td>{MEDIADIR_LEVEL_PICTURE_THUMB}<input type="text" name="levelImage" value="{MEDIADIR_LEVEL_PICTURE}" id="levelImage2" style="width: 300px;" />&nbsp;<input type="button" value="{TXT_MEDIADIR_BROWSE}" onClick="getFileBrowser('levelImage2', 'image')" /></td>
    </tr>
<!--    <tr class="row1">
        <td valign="top">{TXT_MEDIADIR_SHOW_SUBLEVELS}</td>
        <td><input type="radio" name="levelShowSublevels" value="1" {MEDIADIR_LEVEL_SHOW_SUBLEVELS_ON} /> {TXT_MEDIADIR_ACTIVATE} &nbsp;<input type="radio" name="levelShowSublevels" value="0" {MEDIADIR_LEVEL_SHOW_SUBLEVELS_OFF} /> {TXT_MEDIADIR_DEACTIVATE}</td>
    </tr> -->
    <tr class="row2">
        <td valign="top">{TXT_MEDIADIR_SHOW_CATEGORIES}</td>
        <td><input type="radio" name="levelShowCategories" value="1" {MEDIADIR_LEVEL_SHOW_CATEGORIES_ON} /> {TXT_MEDIADIR_ACTIVATE} &nbsp;<input type="radio" name="levelShowCategories" value="0" {MEDIADIR_LEVEL_SHOW_CATEGORIES_OFF} /> {TXT_MEDIADIR_DEACTIVATE}</td>
    </tr>
    <tr class="row1">
        <td valign="top">{TXT_MEDIADIR_SHOW_ENTRIES}</td>
        <td><input type="radio" name="levelShowEntries" value="1" {MEDIADIR_LEVEL_SHOW_ENTRIES_ON} /> {TXT_MEDIADIR_ACTIVATE} &nbsp;<input type="radio" name="levelShowEntries" value="0" {MEDIADIR_LEVEL_SHOW_ENTRIES_OFF} /> {TXT_MEDIADIR_DEACTIVATE}</td>
    </tr>
    <tr class="row2">
        <td valign="top">{TXT_MEDIADIR_VISIBLE}</td>
        <td><input type="radio" name="levelActive" value="1" {MEDIADIR_LEVEL_ACTIVE_ON} /> {TXT_MEDIADIR_ACTIVATE} &nbsp;<input type="radio" name="levelActive" value="0" {MEDIADIR_LEVEL_ACTIVE_OFF} /> {TXT_MEDIADIR_DEACTIVATE}&nbsp;&nbsp;<span class="tooltip-trigger icon-info"></span><span class="tooltip-message">{TXT_MEDIADIR_VISIBLE_LEVEL_INFO}</span></td>
    </tr>
</table>
<br />
<input type="submit" name="submitLevelModfyForm" value="{TXT_MEDIADIR_SUBMIT}" />
</form>
<!-- END module_mediadir_modify_level.html -->
