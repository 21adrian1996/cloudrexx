<script type="text/javascript">
<!--
function deleteTicket(id)
{
  if(confirm('{TXT_SUPPORT_CONFIRM_DELETE_TICKET}\n{TXT_SUPPORT_ACTION_IS_IRREVERSIBLE}'))
    window.location.replace("index.php?cmd=support&act=deleteTicket&id="+id);
}

function supportTicketsDoAction(strForm, strCheckbox, objSelect, strAct)
{
  if (checkboxIsChecked(strForm, strCheckbox) == true) {
    switch(strAct) {
      case 'delete':
        if(confirm('{TXT_SUPPORT_TICKET_CONFIRM_DELETE}\n{TXT_SUPPORT_ACTION_IS_IRREVERSIBLE}')) {
          document.forms[strForm].action = "index.php?cmd=support&act=deleteTickets";
          document.forms[strForm].submit();
        }
        break;
    }
  } else {
    alert("{TXT_SUPPORT_MAKE_SELECTION}");
  }
  objSelect.value = 0;
}

function setTicketStatus(id, status, newStatus)
{
  if (confirm('{TXT_SUPPORT_CONFIRM_CHANGE_STATUS}')) {
    strURI =
      "index.php?cmd=support&act=setTicketStatus&id="+id+
      "&status="+newStatus;
    if (newStatus == 127) {
      if (confirm('{TXT_SUPPORT_SEND_MAIL_TO_CUSTOMER}')) {
        strURI += "&sendMail=1";
      }
    }
    window.location.replace(strURI);
  } else {
    document.getElementById("status["+id+"]").
      setAttribute("value", status);
  }
}

<!-- BEGIN tipMessageRow -->
Text[{SUPPORT_TIP_ID}]=["","{SUPPORT_TIP_NOTE}"];
<!-- END tipMessageRow -->
Style[0]=["","","","","",,"black","#ffffe1","","","",,,,1,"#000000",2,24,0.3,,2,"gray",1,,10,-20];
//-->
</script>
<form name="formSupportTicketsFilter" method="post" action="?cmd=support&amp;act=ticketOverview">
  <table summary="" width="100%" border="0" cellspacing="0" cellpadding="2" class="adminlist">
  <tr>
    <th style="text-align: left">
    {TXT_SUPPORT_TICKETS_FILTER}
    </th>
  </tr>
  <tr class=row1>
    <td>
      <label for="supportTicketLanguageId">{TXT_SUPPORT_TICKET_LANGUAGE}</label>
      <select id="supportTicketLanguageId" name="supportTicketLanguageId"
        onchange="document.forms.formSupportTicketsFilter.submit()">
        <option value="0">{TXT_SUPPORT_ALL}</option>
        {SUPPORT_TICKET_LANGUAGE}
      </select>&nbsp;&nbsp;
      <label for="supportTicketOwnerId">{TXT_SUPPORT_TICKET_OWNER}</label>
      <select id="supportTicketOwnerId" name="supportTicketOwnerId"
        onchange="document.forms.formSupportTicketsFilter.submit()">
        <option value="0">{TXT_SUPPORT_ALL}</option>
        {SUPPORT_TICKET_OWNER}
      </select>&nbsp;&nbsp;
      <label for="supportTicketCategoryId">{TXT_SUPPORT_TICKET_CATEGORY}</label>
      <select id="supportTicketCategoryId" name="supportTicketCategoryId">
        <option value="0">{TXT_SUPPORT_ALL}</option>
        {SUPPORT_TICKET_CATEGORY}
      </select>&nbsp;&nbsp;
      <label for="supportTicketStatus">{TXT_SUPPORT_TICKET_STATUS}</label>
      <select id="supportTicketStatus" name="supportTicketStatus">
        <option value="-1">{TXT_SUPPORT_ALL}</option>
        {SUPPORT_TICKET_STATUS}
      </select>&nbsp;&nbsp;
      <label for="supportTicketSource">{TXT_SUPPORT_TICKET_SOURCE}</label>
      <select id="supportTicketSource" name="supportTicketSource">
        <option value="-1">{TXT_SUPPORT_ALL}</option>
        {SUPPORT_TICKET_SOURCE}
      </select>&nbsp;&nbsp;
      <input type="submit" name="supportTicketsUpdate" value="{TXT_SUPPORT_TICKET_UPDATE}" />
    </td>
  </tr>
  <tr class=row2>
    <td>
      <!--label for="supportTicketSearchTerm">{TXT_SUPPORT_TICKET_SEARCH_TERM}</label>
      <input type="text" id="supportTicketSearchTerm"
         name="supportTicketSearchTerm" size="40" maxlength="255"
         value="{SUPPORT_TICKET_SEARCH_TERM}" />&nbsp;&nbsp;
    </td>
  </tr>
  <tr class=row1>
    <td>
      <label for="supportTicketShowOwnOnly">{TXT_SUPPORT_TICKET_SHOW_OWN_ONLY}</label>
      <input type="checkbox" {SUPPORT_TICKET_SHOW_OWN_ONLY_CHECK}
        id="supportTicketShowOwnOnly" name="supportTicketShowOwnOnly"
        onchange="document.formSupportTicketsFilter.submit();" />&nbsp;&nbsp;-->
      <label for="supportTicketShowClosed">{TXT_SUPPORT_TICKET_SHOW_CLOSED}</label>
      <input type="checkbox" {SUPPORT_TICKET_SHOW_CLOSED_CHECK}
        id="supportTicketShowClosed" name="supportTicketShowClosed"
        onchange="document.formSupportTicketsFilter.submit();" />
    </td>
  </tr>
  </table>
  <br />
</form>
<!-- BEGIN ticketTable -->
{SUPPORT_PAGING}
<form name="supportTicketSelect" method="post" action="?cmd=support&amp;act=tickets">
  <table summary="" class="adminlist" border=0 width="100%" cellpadding="2" cellspacing="0">
    <tr>
      <th nowrap="nowrap" style="text-align:center;">#</th>
      <th nowrap="nowrap" width="2%">{HEADER_SUPPORT_TICKET_ID}</th>
      <th nowrap="nowrap" width="11%">{HEADER_SUPPORT_TICKET_DATE}</th>
      <th nowrap="nowrap" width="7%">{HEADER_SUPPORT_TICKET_STATUS}</a></th>
      <th nowrap="nowrap" width="22%">{HEADER_SUPPORT_TICKET_EMAIL}</a></th>
      <th style="text-align:left;">{HEADER_SUPPORT_TICKET_CATEGORY}</a></th>
      <th nowrap="nowrap" width="22%">{HEADER_SUPPORT_TICKET_OWNER}</a></th>
      <th nowrap="nowrap" width="22%">{HEADER_SUPPORT_TICKET_LANGUAGE}</a></th>
      <th nowrap="nowrap" width="56%" style="text-align:right;">
        {TXT_SUPPORT_ACTION}
      </th>
    </tr>
    <!-- BEGIN ticketRow -->
      <tr class="{SUPPORT_ROWCLASS}">
        <td nowrap="nowrap"><input type="checkbox" name="selectedid[]"
          value="{SUPPORT_TICKET_ID}" /></td>
        <td nowrap="nowrap">{SUPPORT_TICKET_ID}</td>
        <td nowrap="nowrap">{SUPPORT_DATE}</td>
        <td nowrap="nowrap">{SUPPORT_TICKET_STATUS}</td>
        <td nowrap="nowrap">
          <a href="?cmd=support&amp;act=ticket&amp;id={SUPPORT_TICKET_ID}"
            title="{TXT_SUPPORT_VIEW_DETAILS}">
            {SUPPORT_TICKET_EMAIL}
          </a>
        </td>
        <td nowrap="nowrap">{SUPPORT_TICKET_CATEGORY}</td>
        <td nowrap="nowrap">{SUPPORT_TICKET_OWNER}</td>
        <td nowrap="nowrap">{SUPPORT_TICKET_LANGUAGE}</td>
        <td>
          <div style="text-align:right;">
            <a href="?cmd=support&amp;act=ticket&amp;id={SUPPORT_TICKET_ID}"
              title="{TXT_SUPPORT_VIEW_TICKET}">
              <img src="images/icons/press.gif"
                alt="{TXT_SUPPORT_VIEW_TICKET}" border="0" />
            </a>
            &nbsp;
            <!-- a href="?cmd=support&amp;act=editticket&amp;id={SUPPORT_TICKET_ID}" title="{TXT_SUPPORT_EDIT}">
              <img src="images/icons/edit.gif" alt="{TXT_SUPPORT_EDIT}" border="0" />
            </a -->
            <a href="javascript:deleteTicket('{SUPPORT_TICKET_ID}')"
              title="{TXT_SUPPORT_DELETE}">
              <img src="images/icons/delete.gif"
                alt="{TXT_SUPPORT_DELETE}" border="0" />
            </a>
          </div>
        </td>
      </tr>
    <!-- END ticketRow -->
  </table>
  <img src="images/icons/arrow.gif" border="0" width="38" height="22"
    title="{TXT_SUPPORT_MARKED_TICKETS}:" alt="{TXT_SUPPORT_MARKED_TICKETS}:" />
  <a href="javascript:{}" onclick="changeCheckboxes('supportTicketSelect','selectedid[]',true)"
    title="{TXT_SUPPORT_SELECT_ALL}">{TXT_SUPPORT_SELECT_ALL}</a>&nbsp;/&nbsp;
  <a href="javascript:{}" onclick="changeCheckboxes('supportTicketSelect','selectedid[]',false)"
    title="{TXT_SUPPORT_SELECT_NONE}">{TXT_SUPPORT_SELECT_NONE}</a>&nbsp;&nbsp;&nbsp;
  <select name="selectAction" onchange="supportTicketsDoAction('supportTicketSelect','selectedid[]',this,this.value)">
    <option value="0" selected="selected">{TXT_SUPPORT_SELECT_ACTION}:</option>
    <option value="delete">{TXT_SUPPORT_DELETE}</option>
  </select>
</form>
<!-- END ticketTable -->
<p>{SUPPORT_TICKET_PAGING}&nbsp;</p>
