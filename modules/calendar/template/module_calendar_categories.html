<!-- START module_calendar_categories.html -->
<script language="JavaScript" type="text/javascript">
	function formCheck()
	{
        if(document.form.name.value == "")
        {
            alert("{TXT_CALENDAR_FORMCHECK_NAME}");
	        document.form.name.focus();
            return false;
        }
        if(document.form.status.value == "")
        {
        	alert("{TXT_CALENDAR_FORMCHECK_STATUS}");
        	document.form.status.focus();
        	return false;
        	}
        if(document.form.lang.value == "")
        {
            alert("{TXT_CALENDAR_FORMCHECK_LANG}");
	        document.form.lang.focus();
            return false;
        }
        if(document.form.status.value == "")
        {
            alert("{TXT_CALENDAR_FORMCHECK_STATUS}");
	        document.form.status.focus();
            return false;
        }
    }

    function selectTodoCategory()
    {
        if(document.form2.form_select_todo.value == "sort")
	    {
            document.form2.form_sort.value = "1";
	        document.form2.submit();
	    }
        if(document.form2.ischecked.value != "0")
        {
	        if(document.form2.form_select_todo.value == "activate")
	        {
	            document.form2.form_activate.value = "1";
		        document.form2.submit();
	        }
	        if(document.form2.form_select_todo.value == "deactivate")
	        {
	            document.form2.form_deactivate.value = "1";
		        document.form2.submit();
	        }
	        if(document.form2.form_select_todo.value == "delete")
	        {
	        	if(confirm('{TXT_CALENDAR_DELETE_CONFIRM}'))
		        {
		            document.form2.form_delete.value = "1";
		            document.form2.submit();
		        }
	        }
		}
	    else
	    {
	        if(document.form2.form_select_todo.value != "sort")
	        {
	    	    alert("{TXT_CALENDAR_NO_OPERATION}");
	        }
	    }
        document.form2.form_select_todo.value = "0";
    }

	function setCheckboxes(do_check)
	{
		with(document.form2)
		{
		    var box      = elements['selected[]'];
		    var box_cnt  = (typeof(box.length) != 'undefined') ? box.length : 0;

		    if(box_cnt)
		    {
		        for(var i = 0; i < box_cnt; i++)
		        {
		            box[i].checked = do_check;
		        }
		    }
		    else
		    {
		        box.checked = do_check;
		    }
        }
        if(do_check == true)
        {
            document.form2.ischecked.value = "{CALENDAR_TOTAL_RECORDS}";
        }
        else
        {
            document.form2.ischecked.value = "0";
        }
	    return true;
	}
	function isChecked(isitchecked){
		if(isitchecked == true)
		{
		    document.form2.ischecked.value++;
		}
		else
		{
		    document.form2.ischecked.value--;
		}
	}
</script>
<form action="?cmd=calendar{CALENDAR_MANDATE}&amp;act=cat&amp;new=1" name="form" method="post" style="padding:0px; margin:0px;" onsubmit="return formCheck();">
	<table cellspacing="0" cellpadding="3" width="100%" border="0" class="adminlist">
	    <tr>
	    	<th>{TXT_CALENDAR_INSERT_CATEGORY}</th>
	    </tr>
	    <tr class="row1">
	    	<td>
	    	    {TXT_CALENDAR_CATEGORY_NAME}: <input type="text" name="name" size="30" />&nbsp;&nbsp;&nbsp;&nbsp;
	    		{TXT_CALENDAR_STATUS}: <select name="status">
	    	                <option value="0">{TXT_CALENDAR_INACTIVE}</option>
	    		            <option value="1" selected="selected">{TXT_CALENDAR_ACTIVE}</option>
	    	                </select>&nbsp;&nbsp;&nbsp;&nbsp;
	    		{TXT_CALENDAR_LANG}: <select name="lang">
	    					<!-- BEGIN calendar_lang -->
	    	                <option value="{CALENDAR_LANG_ID}"{CALENDAR_LANG_SELECTED}>{CALENDAR_LANG_NAME}</option>
	    	                <!-- END calendar_lang -->
	    	                </select>&nbsp;&nbsp;&nbsp;&nbsp;
	    	    <input type="submit" value="{TXT_CALENDAR_SAVE}" />
	    	</td>
	    </tr>
	</table>
</form><br />
<form action="?cmd=calendar{CALENDAR_MANDATE}&amp;act=cat&amp;chg=1" name="form2" method="post" style="padding:0px; margin:0px;">
<input type="hidden" name="ischecked" value="0" />
<table cellspacing="0" cellpadding="3" width="100%" border="0" class="adminlist">
    <tr>
    	<th width="25"><center>#</center></th>
    	<th width="70"><center>{TXT_CALENDAR_SORTING}</center></th>
    	<th width="40"><center>{TXT_CALENDAR_STATUS}</center></th>
	    <th width="35"><center>{TXT_CALENDAR_ID}</center></th>
	    <th>{TXT_CALENDAR_CATEGORY_NAME}</th>
	    <th width="100"><center>{TXT_CALENDAR_RECORDS}</center></th>
	    <th width="100">{TXT_CALENDAR_LANG}</th>
    </tr>
    <!-- BEGIN calendar_cat_row -->
    <tr class="{CALENDAR_CLASS}">
    	<td><input type="checkbox" name="selected[]" value="{CALENDAR_ID}" onclick="isChecked(this.checked);" /></td>
    	<td>
    	    <center>
	    	    <input type="hidden" name="form_id[]" value="{CALENDAR_ID}" />
	    	    <input type="text" name="form_pos[]" value="{CALENDAR_POS}" style="width:25px; text-align:right; padding:2px;" />
	    	</center>
    	</td>
    	<td align="center"><img src="images/icons/led_{CALENDAR_STATUS}.gif" alt="" /></td>
    	<td align="center">{CALENDAR_ID}</td>
    	<td><a href="index.php?cmd=calendar{CALENDAR_MANDATE}&amp;act=catedit&amp;id={CALENDAR_ID}" title="{TXT_CALENDAR_EDIT}">{CALENDAR_NAME}</a></td>
    	<td><center>{CALENDAR_RECORDS}</center></td>
    	<td>{CALENDAR_CAT_LANG}</td>
    </tr>
    <!-- END calendar_cat_row -->
</table>
<table cellspacing="0" cellpadding="3" width="100%" border="0">
    <tr>
    	<td>
    	    <img src="images/icons/arrow.gif" alt="" />
    	    <a href="javascript:{void(0)}" onclick="setCheckboxes(true); return false;">{TXT_CALENDAR_MARK_ALL}</a> /
    	    <a href="javascript:{void(0)}" onclick="setCheckboxes(false); return false;">{TXT_CALENDAR_REMOVE_CHOICE}</a>
    	    <img src="images/icons/strike.gif" alt="" />
    	    <select name="form_select_todo" onchange="selectTodoCategory();">
    	        <option value="0" selected="selected">{TXT_CALENDAR_SELECT_OPERATION}:</option>
    	        <option value="sort">{TXT_CALENDAR_SAVE_SORTING}</option>
    	        <option value="activate">{TXT_CALENDAR_ACTIVATE_CAT}</option>
    	        <option value="deactivate">{TXT_CALENDAR_DEACTIVATE_CAT}</option>
    	        <option value="delete">{TXT_CALENDAR_DELETE_CAT}</option>
    	    </select>
            <input type="hidden" name="form_sort" value="" />
    	    <input type="hidden" name="form_activate" value="" />
    	    <input type="hidden" name="form_deactivate" value="" />
            <input type="hidden" name="form_delete" value="" />
    	</td>
    </tr>
</table>
</form>
<form action="?cmd=feed&amp;act=category&amp;chg=2" name="form3" method="post" style="padding:0px; margin:0px;">
	<input type="hidden" name="form_rename_id" value="" />
	<input type="hidden" name="form_rename_name" value="" />
</form>
<br />
<!-- END module_calendar_categories.html -->
