<script language="JavaScript" type="text/javascript">
<!--

function communitySelectAllGroups(element) {
	for(var i = 0;i < element.length;i++) {
		element.options[i].selected = true;
	}
}

function communityDeselectAllGroups(element) {
	for(var i = 0;i < element.length;i++) {
		element.options[i].selected = false;
	}
}

function communitySelectAll(element) {
	communitySelectAllGroups(document.getElementById(element));
}

function communityAddGroup(from,dest,add,remove) {
    if ( from.selectedIndex < 0) {
		if (from.options[0] != null)
			from.options[0].selected = true;
		from.focus();
		return false;
	} else {
		for (var i=0; i<from.length; i++) {
			if (from.options[i].selected) {
		    	dest.options[dest.length] = new Option( from.options[i].text, from.options[i].value, false, false);
   			}
		}
	    for (var i=from.length-1; i>=0; i--) {
			if (from.options[i].selected) {
		       from.options[i] = null;
   			}
		}
	}
    disapleButtons(from,dest,add,remove);
}

function communityRemove(from,dest,add,remove) {
	if ( dest.selectedIndex < 0) {
		if (dest.options[0] != null)
			dest.options[0].selected = true;
		dest.focus();
		return false;
	} else {
		for (var i=0; i<dest.options.length; i++) {
			if (dest.options[i].selected) {
		    	from.options[from.options.length] = new Option( dest.options[i].text, dest.options[i].value, false, false);
   			}
		}
	    for (var i=dest.options.length-1; i>=0; i--) {
			if (dest.options[i].selected) {
		       dest.options[i] = null;
   			}
		}
	}
	disapleButtons(from,dest,add,remove);
}

function disapleButtons(from,dest,add,remove) {
	if (from.options.length > 0 ) {
		add.disabled = 0;
	} else {
		add.disabled = 1;
	}
	
	if (dest.options.length > 0) {
		remove.disabled = 0;
	} else {
		remove.disabled = 1;
	}
}

// -->
</script>
<form name="community_settings_form" action="?cmd=community&amp;act=settings" method="post" onsubmit="communitySelectAll('communityAssignedGroups')">
	<table cellspacing="0" cellpadding="1" width="100%" border="0" class="adminlist" summary="settings">
		<tr>
			<th colspan="4">&nbsp;{TXT_SETTINGS}</th>
		</tr>
		<tr class="row1">
  			<td width="15%" style="vertical-align:top;">{TXT_GROUP_SETTINGS_TEXT}</td>
    		<td width="15%">{TXT_AVAILABLE_GROUPS}<br />
    			<select name="communityAllGroups[]" id="communityAllGroups" size="10" style="width:200px;" multiple="multiple">
    			{COMMUNITY_NOT_SELECTED_GROUPS}
				</select>
        		<br />
        		<font size="1"><a href="javascript:communitySelectAllGroups(document.getElementById('communityAllGroups'));" style="color:blue;">{TXT_SELECT_ALL}</a><br />
        		<a href="javascript:communityDeselectAllGroups(document.getElementById('communityAllGroups'));" style="color:blue;">{TXT_DELETE_MARK}</a></font>
        	</td>
			<td width="1%"><input type="button" value="&gt;&gt;" name="add" onclick="communityAddGroup(document.getElementById('communityAllGroups'),document.getElementById('communityAssignedGroups'),add,remove);" />
        		<br />
        		<input type="button" value="&lt;&lt;" name="remove" onclick="communityRemove(document.getElementById('communityAllGroups'),document.getElementById('communityAssignedGroups'),add,remove);" />
    		</td>
    		<td width="69%">{TXT_ASSIGNED_GROUPS}<br />
    			<select name="communityAssignedGroups[]" id="communityAssignedGroups" size="10" style="width:200px;" multiple="multiple">
    			{COMMUNITY_SELECTED_GROUPS}
    			</select>
        		<br />
        		<font size="1"><a href="javascript:communitySelectAllGroups(document.getElementById('communityAssignedGroups'));" style="color:blue;">{TXT_SELECT_ALL}</a> <br />
        		<a href="javascript:communityDeselectAllGroups(document.getElementById('communityAssignedGroups'));" style="color:blue;">{TXT_DELETE_MARK}</a></font>
        	</td>
		</tr>
		<tr class="row2">
			<td width="15%" style="vertical-align: top;">{TXT_USER_ACCOUNT_ACTIVATION_METHOD_TEXT}</td>
			<td width="85%" colspan="3">
				<input type="radio" name="communityUserActivation" id="communityUserActivation_1" value="1" {COMMUNITY_USER_ACTIVATION_1} /><label for="communityUserActivation_1">{TXT_ACTIVATION_BY_USER}</label><br />
				<div style="display: block;padding-left: 20px;"><input style="text-align: right; width: 60px;" type="text" value="{COMMUNITY_USER_ACTIVATION_TIMEOUT}" name="communityUserActivationTimeout" />&nbsp;{TXT_TIME_PERIOD_ACTIVATION_TIME}</div><br />
				<input type="radio" name="communityUserActivation" id="communityUserActivation_0" value="0" {COMMUNITY_USER_ACTIVATION_0} /><label for="communityUserActivation_0">{TXT_ACTIVATION_BY_AUTHORIZED_PERSON}</label><br />
			</td>
		</tr>
	</table>
	<br />
	<input type="submit" value="{TXT_STORE}" name="community_save_settings" />
</form>