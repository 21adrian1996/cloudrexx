<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ImageViewer</title>
<meta name="title" content="Imageviewer Hotels" />
<meta name="description" content="Imageviewer isis-swisstravel"/>
<meta name="keywords" content="Hotels, Reisen, Buchen"/>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="robots" content="index"/>

<meta name="generator" content="Contrexx® Web Content Management System"/>
<link rel="SHORTCUT ICON" href="themes/isis_new/images/favicon.ico" />
<meta http-equiv="pragma" content="no-cache"/>
<meta http-equiv="cache-control" content="no-cache"/>
<link rel="stylesheet" type="text/css" href="themes/isis_new/style.css" />
<link rel="stylesheet" type="text/css" href="themes/isis_new/buildin_style.css" />
<link rel="stylesheet" type="text/css" href="themes/isis_new/menu.css" />
<style type="text/css">
body{
 background-image: none;
}

.saxermap {
   color: black;
   font-size: 11px;
   font-family: verdana;
}
div.saxermap a {
   color: black;
   text-decoration: underline;
}
.big{
    font-size: 25px;
    color: #AAA;
}
a{
    text-decoration: none;
}
</style>

<script type="text/javascript">
//<![CDATA[
    var index = 1;
    var arrImages = new Array();
    var arrIndex = new Array();
    var oImage;
    var oSpanImgName;
    var oSpanImgContent;
    
<!-- BEGIN imagesArray -->
    arrImages[{HOTEL_IMAGE_FIELD_ID}] = new Array(5);
    arrImages[{HOTEL_IMAGE_FIELD_ID}]['src']     = '{HOTEL_IMAGE_SRC}';
    arrImages[{HOTEL_IMAGE_FIELD_ID}]['width']   = '{HOTEL_IMAGE_WIDTH}';
    arrImages[{HOTEL_IMAGE_FIELD_ID}]['height']  = '{HOTEL_IMAGE_HEIGHT}';
    arrImages[{HOTEL_IMAGE_FIELD_ID}]['name']    = '{HOTEL_IMAGE_NAME}';
    arrImages[{HOTEL_IMAGE_FIELD_ID}]['content'] = '{HOTEL_IMAGE_CONTENT}';
    arrIndex.push({HOTEL_IMAGE_FIELD_ID});
<!-- END imagesArray -->
            
    var init = function(){
        <!-- BEGIN indexArray -->arrIndex.push({HOTEL_IMAGE_FIELD_ID});
        <!-- END indexArray -->
        index=getArrayKeyFromValue(index, arrIndex);
        index=arrIndex[index];
        oImage          = document.getElementById("theImage");
        oSpanImgName    = document.getElementById("imgName");
        oSpanImgContent = document.getElementById("imgContent");
        showImage();
    }

	var resize = function(){
		window.resizeTo(parseInt(arrImages[index]['width'])+100, parseInt(arrImages[index]['height'])+200);
	}
	
	var showImage = function(){
		console.log(arrIndex[index]);
        oImage.src = arrImages[index]['src'];
        oImage.alt = arrImages[index]['name'];
        oImage.title = arrImages[index]['name'];
        oSpanImgName.removeChild(oSpanImgName.childNodes[0]);
        oSpanImgName.appendChild(document.createTextNode(arrImages[index]['name']));
        oSpanImgContent.removeChild(oSpanImgContent.childNodes[0]);
        oSpanImgContent.appendChild(document.createTextNode(arrImages[index]['content']));
        resize();	
	}

	var nextImage = function(){
        index=getArrayKeyFromValue(index, arrIndex);
        if(index < arrIndex.length - 1){
          index = arrIndex[++index];            
        }else{
          index = arrIndex[0];                
        }        
	    showImage();
	}

	var prevImage = function(){
        index = getArrayKeyFromValue(index, arrIndex);
        if(index > 0){
          index = arrIndex[--index];            
        }else{
          index = arrIndex[arrIndex.length-1];                
        }
	    showImage();
	}
	
	var getArrayKeyFromValue = function(searchS, arraySA){
        var I = 0;
        var minI = 0;
        var maxI = arraySA.length - 1;
        var s = "";
        var foundB = false;
        I = minI - 1;
        while ((I <= maxI) && (!(foundB))) {
        	console.log(searchS, " : ", arraySA[I]);
            I = I + 1;
            s = arraySA[I];
            foundB = (arrIndex[searchS] == s);
        }
        if (foundB) {
            return I;
        }
        else {
            return -1000; // some negative number indicating not found
        }
    }

//]]>
</script>
</head>
<body onload="init();">
<div id="hotel">
    <div>
        <div style="width: 100px;">
            <a href="javascript:prevImage();" title="{TXT_HOTEL_PREV_IMAGE}"><span class="big">&larr;</span></a>
            <a href="javascript:nextImage();" title="{TXT_HOTEL_NEXT_IMAGE}"><span class="big">&rarr;</span></a>
        </div>
    </div>
    
    
    
    <div class="center">
    	<span id="imgName">&nbsp;</span><br />
    	<img src="." alt="foo" title="foo" id="theImage" />	<br />
    	<span id="imgContent">&nbsp;</span> <br />
    </div>
</div>
</body>
</html>
