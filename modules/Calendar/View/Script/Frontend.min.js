
var calendarFrontend={_validation:function(a){$form=a;that=this;var b=false;$form.find("[class*=validate]").each(function(){$field=$J(this);if(!that._validateField($field)){$field.css("border","#ff0000 1px solid");$J("#calendarErrorMessage").show();b=true}else{$field.css("border","")}});if(b){return false}return true},_validateField:function(d){var g=/validate\[(.*)\]/.exec($field.attr("class"));if(!g){return false}var f=g[1];var g=f.split(/\[|,|\]/);for(var b=0;b<g.length;b++){g[b]=g[b].replace(" ","");if(g[b]===""){delete g[b]}}for(var b=0;b<g.length;b++){switch(g[b]){case"event_title":language=d.attr("data-id");if($J("#showIn_"+language).is(":checked")){var e=$J.trim(d.val());if((!e)){return false}return true}return true;break;case"required":switch(d.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var e=$J.trim(d.val());if((!e)){return false}return true;break;case"radio":case"checkbox":var c=d.closest("form");var a=d.attr("name");if(c.find("input[name='"+a+"']:checked").size()==0){if(c.find("input[name='"+a+"']:visible").size()==1){return true}else{return false}}break}break}}}};var modifyEvent={_handleSeriesEventRowDisplay:function(a){if(a.is(":checked")){$J(".series-event-row").show();showOrHide()}else{$J(".series-event-row").hide()}},_handleAllDayEvent:function(a){if(a.is(":checked")){cx.jQuery(".startDate").datetimepicker("setDate",cx.jQuery(".startDate").data("prevDate"));cx.jQuery(".endDate").datetimepicker("setDate",cx.jQuery(".endDate").data("prevDate"));cx.jQuery(".startDate, .endDate").datetimepicker("disableTimepicker")}else{cx.jQuery(".startDate, .endDate").datetimepicker("enableTimepicker")}cx.jQuery(".startDate").datetimepicker("setDate",cx.jQuery(".startDate").data("prevDate"));cx.jQuery(".endDate").datetimepicker("setDate",cx.jQuery(".endDate").data("prevDate"))},_isNumber:function(b){b=(b)?b:window.event;var a=(b.which)?b.which:b.keyCode;if(a>31&&(a<48||a>57)){return false}return true}};$J(function(){$J(".all_day").click(function(){modifyEvent._handleAllDayEvent($J(this))});var a=$J("#event-tabs");a.tabs();a.tabs("select","#event-tab-"+$J(".lang_check:checked").first().data("id"));$J("#formModifyEvent").submit(function(){form=$J(this);return calendarFrontend._validation(form)});$J(".lang_check").each(function(b){if(!$J(this).is(":checked")){a.tabs("disable",b);$J(".input_field_"+$J(this).val()).hide()}});showOrHideExpandMinimize();$J(".lang_check").click(function(){if($J(".lang_check:checked").length<1){showOrHideExpandMinimize();return false}langIndex=$J(".lang_check").index($J(this));if($J(this).is(":checked")){a.tabs("enable",langIndex);a.tabs("select",langIndex);$J(".input_field_"+$J(this).val()).show()}else{a.tabs("select","#event-tab-"+$J(".lang_check:checked").first().data("id"));a.tabs("disable",langIndex);$J(".input_field_"+$J(this).val()).hide()}showOrHideExpandMinimize()});$J("#event-type").change(function(){$J(".event-description").hide();$J(".event-redirect").hide();if($J(this).val()=="0"){$J(".event-description").show()}else{$J(".event-redirect").show()}});$J(".eventLocationType").click(function(){showOrHidePlaceFields($J(this).val(),"place")});$J(".eventHostType").click(function(){showOrHidePlaceFields($J(this).val(),"host")});cx.jQuery(".eventInputfieldDefault").each(function(){var c=cx.jQuery(this).data("id");var b="event";cx.jQuery(this).data("lastDefaultValue",cx.jQuery(this).val());cx.jQuery(this).keyup(function(){var e=cx.jQuery(this);var f=cx.jQuery(this).data("id");var d="event";cx.jQuery.each(activeLang,function(h,g){if(cx.jQuery('input[name="showIn[]"]:checked').length==1||cx.jQuery("#"+d+"_"+f+"_"+g).val()==e.data("lastDefaultValue")){cx.jQuery("#"+d+"_"+f+"_"+g).val(e.val())}});cx.jQuery(this).data("lastDefaultValue",cx.jQuery(this).val())});cx.jQuery("#"+b+"_"+c+"_"+defaultLang).keyup(function(){var e=cx.jQuery(this).data("id");var d="event";cx.jQuery("#"+d+"_"+e+"_0").val(cx.jQuery(this).val());cx.jQuery("#"+d+"_"+e+"_0").data("lastDefaultValue",cx.jQuery(this).val())})})});function ExpandMinimize(a){var c=document.getElementById("event_"+a+"_Minimized");var b=document.getElementById("event_"+a+"_Expanded");c.style.display=(c.style.display=="none")?"block":"none";b.style.display=(b.style.display=="none")?"block":"none"}function showOrHidePlaceFields(a,b){if(a=="1"){$J("div.event_"+b+"_manual").css("display","table-row");$J("div.event_"+b+"_mediadir").css("display","none")}else{$J("div.event_"+b+"_manual").css("display","none");$J("div.event_"+b+"_mediadir").css("display","table-row")}}function showOrHideExpandMinimize(){if(cx.jQuery('input[name="showIn[]"]:checked').length>1){cx.jQuery(".input_field_expand").show()}else{cx.jQuery(".event_expanded_block").each(function(){if(cx.jQuery(this).is(":visible")){cx.jQuery(this).closest("div.event_multilingual").find(".event_minimized_block").show();cx.jQuery(this).hide()}});cx.jQuery(".input_field_expand").hide();cx.jQuery(".event_minimized_block").find("input").trigger("keyup")}};